import './filters.css';

import arrow from '../../icons/filter-arrow.png';

import {React, useState} from 'react';

const Filters = () => {

    const [sortingType, setSortingType] = useState("По популярности");

    const handleSortingClick = (sortingType) => {
        setSortingType(sortingType);
        setIsSortingVisible(false);
    };
    const [isSortingVisible, setIsSortingVisible] = useState(false);

    if (isSortingVisible) {
        const CitiesList = document.getElementById("sortinglist");
        CitiesList.classList.remove("sorting__animation-hide");
        CitiesList.classList.add("sorting__animation");
        CitiesList.style.display = "flex";
    }
    else {
        setTimeout(() => {
            const CitiesList = document.getElementById("sortinglist");
            CitiesList.classList.replace("sorting__animation", "sorting__animation-hide");
            CitiesList.style.display = "none";
        }, "000");
        
    };

    return (
        <>
        <section className='filters'>
            <ul className='filters__list'>
                <li className='filters__list-item'>
                    <input className='search' placeholder="Поиск.." />
                </li>
                <li className='filters__list-item' onMouseEnter={() => setIsSortingVisible(true)} onMouseLeave={() => setIsSortingVisible(false)}>
                    <div className='sorting' >{sortingType}<img className="filters__arrow" src={arrow} alt="Стрелка"></img></div>
                    <ul id="sortinglist" className='sorting__list'>
                        <li onClick={() => handleSortingClick("По популярности")} className='sorting__list-item'>
                            По популярности
                        </li>
                        <li onClick={() => handleSortingClick("По цене")} className='sorting__list-item'>
                            По цене
                        </li>
                        <li onClick={() => handleSortingClick("Новинки")} className='sorting__list-item'>
                            Новинки
                        </li>
                    </ul>
                </li>
                <li className='filters__cost'>
                    <input className='filters__cost-input' defaultValue={"49"}/><span></span> 
                    <input className='filters__cost-input' defaultValue={"5499"}/><span></span> 
                </li>
                
               
                    


            </ul>
        </section>
        </>
    );

   
}

export default Filters;